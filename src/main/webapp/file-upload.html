<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>shp文件</title>
    <link rel="stylesheet" href="//openlayers.org/en/v4.1.1/css/ol.css" type="text/css">
    <link rel="stylesheet" type="text/css" href="plugin/uploadify/uploadify.css">
    <style type="text/css">
        body, #map {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-size: 13px;
            overflow: hidden;
        }
        .map-tools{
            position: absolute;
            top:15px;
            right: 15px;
            z-index: 99;
            background: white;
            text-align: center;
            padding: 10px 10px 0 10px;
        }
    </style>
</head>
<body>
<div class="map-tools">
    <form action="" method="post" id="shp-upload" enctype="multipart/form-data">
        <input id="file_upload" name="file_upload" type="file" multiple="false">
    </form>
</div>
<script type="text/javascript" src="plugin/jquery/jquery-3.1.1.min.js"></script>
<script src="plugin/uploadify/jquery.uploadify.min.js"></script>
<script type="text/javascript">
    $('#file_upload').uploadify({
        'formData': {},
        'successTimeout' : 600,
        'sizeLimit': 1024*1024,//限制大小
        'removeCompleted':true,
        'buttonText': '选择shp文件',
        'swf': 'plugin/uploadify/uploadify.swf',
        'uploader': 'file-upload',
        'fileTypeExts': '*.*',
        "onUploadSuccess": function (file, data, response) {
            console.log(data);
            if(data)data = JSON.parse(data);
            alert(data.status);
        },
        "onUploadError": function (file, errorCode, errorMsg,
                                   errorString) {
            console.log(errorCode);
            console.log(errorMsg);
            console.log(errorString);
        }
    });
</script>
</body>
</html>